function InitSideMenu(){var n=window.location.href.substr(window.location.href.lastIndexOf("/")+1);$("ul.nav li.nav-item a.nav-link").each(function(){var t=$(this).attr("href").substr($(this).attr("href").lastIndexOf("/")+1);t===n&&$(this).parent().addClass("active-page")})}function setCookie(n,t,i){var r=new Date,u;r.setTime(r.getTime()+i*864e5);u="expires="+r.toUTCString();document.cookie=n+"="+t+";"+u+";path=/"}function getCookie(n){for(var t,r=n+"=",f=decodeURIComponent(document.cookie),u=f.split(";"),i=0;i<u.length;i++){for(t=u[i];t.charAt(0)==" ";)t=t.substring(1);if(t.indexOf(r)==0)return t.substring(r.length,t.length)}return""}function checkCookie(){var n=getCookie("username");n!=""?alert("Welcome again "+n):(n=prompt("Please enter your name:",""),n!=""&&n!=null&&setCookie("username",n,365))}function setCookie(n,t,i){var r=new Date;r.setDate(r.getDate()+i);document.cookie=n+"="+t+";path=/"+(i==null?"":";expires="+r.toGMTString())}function getCookie(n){var i=document.cookie,u=n+"=",t=i.indexOf("; "+u),r;if(t==-1){if(t=i.indexOf(u),t!=0)return null}else t+=2;return r=document.cookie.indexOf(";",t),r==-1&&(r=i.length),unescape(i.substring(t+u.length,r))}function eraseCookie(n){document.cookie=n+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"}function PageNumbering(n){var i=0,f,r,u,e,t;for(i=parseInt((parseInt(n)+parseInt(paging.pageSize)-1)/parseInt(paging.pageSize)),n===0||i===1?$("."+paging.pagingWrapper).css("display","none"):$("."+paging.pagingWrapper).css("display",""),f=parseInt(paging.startIndex-1+paging.pageSize),f>n&&(f=n),paging.currentPage>0?($("."+paging.pagingWrapper+" ."+paging.first).unbind("click"),$("."+paging.pagingWrapper+" ."+paging.first).removeClass("disabled"),$("."+paging.pagingWrapper+" ."+paging.first).click(function(){return GotoPage(0,this),!1}),$("."+paging.pagingWrapper+" ."+paging.previous).unbind("click"),$("."+paging.pagingWrapper+" ."+paging.previous).removeClass("disabled"),$("."+paging.pagingWrapper+" ."+paging.previous).click(function(){return GotoPage(paging.currentPage-1,this),!1})):($("."+paging.pagingWrapper+" ."+paging.first).addClass("disabled"),$("."+paging.pagingWrapper+" ."+paging.first).unbind("click"),$("."+paging.pagingWrapper+" ."+paging.previous).addClass("disabled"),$("."+paging.pagingWrapper+" ."+paging.previous).unbind("click")),paging.currentPage<i-1?($("."+paging.pagingWrapper+" ."+paging.next).unbind("click"),$("."+paging.pagingWrapper+" ."+paging.next).removeClass("disabled"),$("."+paging.pagingWrapper+" ."+paging.next).click(function(){return GotoPage(paging.currentPage+1,this),!1}),$("."+paging.pagingWrapper+" ."+paging.last).unbind("click"),$("."+paging.pagingWrapper+" ."+paging.last).removeClass("disabled"),$("."+paging.pagingWrapper+" ."+paging.last).click(function(){return GotoPage(i-1,this),!1})):($("."+paging.pagingWrapper+" ."+paging.next).addClass("disabled"),$("."+paging.pagingWrapper+" ."+paging.next).unbind("click"),$("."+paging.pagingWrapper+" ."+paging.last).addClass("disabled"),$("."+paging.pagingWrapper+" ."+paging.last).unbind("click")),r=0,u=10,paging.currentPage>=5&&(u=paging.currentPage+5,r=paging.currentPage-5),u>i&&(u=i,r=u-10),r<0&&(r=0),e="",t=r;t<u;t++)e+=t===paging.currentPage?"<li class='active "+paging.numeric+"' > <a class='page-link' href='javascript:void(0)'>"+parseInt(t+1)+"<\/a><\/li>":"<li class='"+paging.numeric+"'><a class='page-link' href='javascript:void(0)' onclick='return GotoPage("+t+", this)' > "+parseInt(t+1)+"<\/a><\/li>";$("."+paging.pagingWrapper+" li").each(function(){$(this).hasClass(paging.numeric)&&$(this).remove()});$(e).insertAfter($("."+paging.pagingWrapper+" ."+paging.previous))}function GotoPage(n,t){return paging.currentPage=n,paging.startIndex=n*paging.pageSize+1,typeof onGotoPage!="undefined"&&onGotoPage(n,t),paging.PagingFunction.trim().length>0?window[paging.PagingFunction]():Paging(paging.startIndex,paging.pageSize,t),!1}var baseUrl="",MessageType={Success:1,Error:2,Warning:3,None:4},ViewMode={MapView:99},ActionStatus={Successfull:1,Error:2,LoggedOut:3,Unauthorized:4},Constants={PageSize:1},paging;$.ShowThrobber=function(n,t){t!=undefined&&$(t).attr("disabled","disabled");$(".md-overlay").css("visibility","visible");$(".md-overlay").css("opacity","1");$("#MainThrobberImage").show().position(n)};$.RemoveThrobber=function(n){n!=undefined&&$(n).removeAttr("disabled");$("#MainThrobberImage").hide();$("#modalThrobberImage").hide();$(".md-overlay").removeAttr("style")};$.ShowModalThrobber=function(n,t){t!=undefined&&$(t).attr("disabled","disabled");$("#modalThrobberImage").show().position(n)};$.ShowMessage=function(n,t,i){var r;i==MessageType.Success?(r='<button aria-hidden="true" data-dismiss="alert" class="close" type="button">×<\/button><div class="icon"><i class="fa fa-check sign"><\/i><\/div><strong>Success! <\/strong>'+t,$.showGritterMessage(t,i)):i==MessageType.Error?(r='<button aria-hidden="true" data-dismiss="alert" class="close" type="button">×<\/button><div class="icon"><i class="fa fa-times-circle sign"><\/i><\/div><strong>Error! <\/strong>'+t,$.showGritterMessage(t,i)):i==MessageType.Warning&&(r='<button aria-hidden="true" data-dismiss="alert" class="close" type="button">×<\/button><div class="icon"><i class="fa fa-times-circle sign"><\/i><\/div><strong>Alert! <\/strong>'+t,$.showGritterMessage(t,i));i==MessageType.Success&&setTimeout(function(){$(n).hide().html("")},5e3)};$.ShowThemeAlertMessage=function(n,t){var i='<button aria-hidden="true" data-dismiss="alert" class="close" type="button">×<\/button><i class="fa fa-check sign"><\/i><strong>Success! <\/strong>'+t;$(n).html(i).removeClass("alert-info").addClass("alert-success").fadeIn();$("html, body").animate({scrollTop:0},400);setTimeout(function(){$(n).hide().html("")},5e3)};$.ShowThemeAlertMessage2=function(n,t){var i='<button aria-hidden="true" data-dismiss="alert" class="close" type="button">×<\/button><div class="icon"><i class="fa fa-check sign"><\/i><\/div><strong>Success! <\/strong>'+t;$(n).html(i).removeClass("alert-info").addClass("alert-success").fadeIn();$("html, body").animate({scrollTop:0},400);setTimeout(function(){$(n).hide().html("")},5e3)};$.showStaticMessage=function(n,t){$.gritter.add({position:"bottom-left",title:"<strong>Success!<\/strong>",text:t,imageIcon:"<img src='/images/success_head.png' width='45'/>",class_name:"clean",time:"20000"})};$.showGritterMessage=function(n,t){$.RemoveExistingMessage();t==MessageType.Success?$.gritter.add({position:"bottom-left",title:"<strong>Success!<\/strong>",text:n,class_name:"clean",time:"5000"}):t==MessageType.Error?$.gritter.add({position:"bottom-left",title:"<strong>Error!<\/strong>",text:n,class_name:"clean",time:"5000"}):t==MessageType.Warning&&$.gritter.add({position:"bottom-left",title:"<strong>Warning!<\/strong>",text:n,class_name:"clean",time:"5000"})};$(document).ready(function(){$(document).ajaxStart(function(){var n=document.activeElement.id;n=="btnUploadImages"||n=="btnUploadFloorImages"||document.activeElement.className.includes("select2-input")||$(".modalAjaxLoader").fadeIn()});$(document).ajaxComplete(function(){$(".modalAjaxLoader").fadeOut()})});$.RemoveExistingMessage=function(){$(".gritter-item-wrapper").remove()};$.IsNumericCustom=function(n){return+n==n&&n.length>0};$.IsEmailCustom=function(n){return/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(n)};$.IsCharNum=function(n){return/[^a-zA-Z0-9]/.test(n)?!1:!0};$.IsAlphaNumeric=function(n){return/[^a-zA-Z0-9 ]/.test(n)?!1:!0};$.ValidateFiles=function(n){var t=!0;return $(n).find("input[type=file][required-field]").each(function(){$.trim($(this).val())?$(n).find("span[for="+$(this).attr("name")+"]").addClass("field-validation-valid").removeClass("field-validation-error").html(""):(t=!1,$(n).find("span[for="+$(this).attr("name")+"]").addClass("field-validation-error").removeClass("field-validation-valid").html($(this).attr("required-field")))}),$(n).find("input[type=file][allowed-formats]").each(function(){if($(this).val()){var i=$(this).val().split(".");i=i[i.length-1].toLowerCase();$(this).attr("allowed-formats").indexOf(i)==-1?(t=!1,$(n).find("span[for="+$(this).attr("name")+"]").addClass("field-validation-error").removeClass("field-validation-valid").html($(this).attr("error-message"))):$(n).find("span[for="+$(this).attr("name")+"]").addClass("field-validation-valid").removeClass("field-validation-error").html("")}}),t};$.ajaxExt=function(n){function t(n,t,i,r){r.showErrorMessage!=!1?$.ShowMessage($(r.messageControl),"Unexpected Error",MessageType.Error):r.error!=undefined&&r.error("Unexpected Error");r.showThrobber==!0&&$.RemoveThrobber(r.button)}function i(n,t){t.showThrobber==!0&&$.RemoveThrobber(t.button);try{if(n.status==undefined)return t.showErrorMessage!=!1?$.ShowMessage($(t.messageControl),"Invalid data returned in the response",MessageType.Error):t.error!=undefined&&t.error("Invalid data returned in the response"),!1}catch(i){t.showErrorMessage!=!1?$.ShowMessage($(t.messageControl),"Invalid data returned in the response",MessageType.Error):t.error!=undefined&&t.error("Invalid data returned in the response")}n.status==ActionStatus.Error?(t.error!=undefined&&t.error(n.message,n.id,n),t.showErrorMessage!=!1&&$.ShowMessage($(t.messageControl),n.message,MessageType.Error)):t.success&&(n.viewMode==ViewMode.MapView?t.success(n):t.success(n.results,n.message,n.status,n.id,n.list,n.object,n.url,n))}if(n.type=n.type==undefined?"POST":n.type,n.showErrorMessage=n.showErrorMessage==undefined?!0:n.showErrorMessage,n.showThrobber=n.showThrobber==undefined?!0:n.showThrobber,n.showPopupThrobber=n.showPopupThrobber==undefined?!1:n.showPopupThrobber,n.validate=n.validate==undefined?!1:n.validate,n.global=n.global==undefined?!0:n.global,n.cache=n.cache==undefined?!0:n.cache,n.containFiles=n.containFiles==undefined?!1:n.containFiles,n.isAjaxForm=n.isAjaxForm==undefined?!1:n.isAjaxForm,n.isScroll=n.isScroll==undefined?!0:n.isScroll,n.validate==!0){var u=$(n.formToValidate).valid(),r=!0;if(n.containFiles&&(r=$.ValidateFiles(n.formToValidate)),!u||!r)return n.isScroll!=!1&&$("html, body").animate({scrollTop:5},400),!1}if(n.showErrorMessage!=!1&&$.ShowMessage($(n.messageControl),"",MessageType.None),n.showPopupThrobber==!0?$.ShowModalThrobber(n.throbberPosition,n.button):n.showThrobber==!0&&$.ShowThrobber(n.throbberPosition,n.button),n.containFiles==!0||n.isAjaxForm==!0){if($(n.formToPost).length==0)return n.showErrorMessage!=!1?$.ShowMessage($(n.messageControl),"Form Not Found",MessageType.Error):n.error!=undefined&&n.error("Form Not Found"),!1;$(n.formToPost).ajaxForm({url:n.url,global:n.global,cache:n.cache,type:n.type,error:function(i,r,u){t(i,r,u,n)},success:function(t){i(t,n)}}).submit()}else $.ajax({global:n.global,cache:n.cache,url:n.url,type:n.type,processData:n.processData,contentType:n.contentType,data:n.data,error:function(i,r,u){t(i,r,u,n)},success:function(t){i(t,n)}})};$.OpenPopupWindow=function(n){var i,r,t;$("#rmsModalHeader").html(n.title);$("div.popUpMessageAlert").html("").hide();i=Math.floor(window.innerWidth/2);r=Math.floor(window.innerHeight/2);n.showTitle==!1?$("#rmsModal .modal-header").css("display","none"):$("#rmsModal .modal-header").css("display","");$("#rmsModal").unbind("hidden").unbind("shown");$("#rmsModal").on("hidden",function(){$("#rmsModal .modal-body").html("")});t=n.type==undefined?"POST":n.type;$("#rmsModal").on("shown",function(){});n.html?$("#rmsModal .modal-body").html(n.html):$.ajaxExt({type:t,validate:!1,showThrobber:!1,throbberPosition:{my:"center center",at:"center center",of:$("#rmsModal .modal-body")},messageControl:$("div.popUpMessageAlert"),url:n.url,data:n.data,success:function(t){$("#rmsModal .modal-body").html(t[0]);typeof n.callback=="function"&&n.callback()}})};$.OpenDeletePopupWindow=function(n){$(".ConfirmDelete").attr(n.attr,n.id)};$.ShowPopup=function(n,t){var i={},r="",u={init:function(n){i=$.extend({},this,u);i.searching=!1;i.o={};var t={overlaySelector:".md-overlay",closeSelector:".md-close",classAddAfterOpen:"md-show",modalAttr:"data-modal",perspectiveClass:"md-perspective",perspectiveSetClass:"md-setperspective",afterOpen:function(){},afterClose:function(){}};i.o=$.extend({},t,n);i.n={};r=$(i.o.overlaySelector)},afterOpen:function(n,t){i.o.afterOpen(n,t)},afterClose:function(n,t){i.o.afterClose(n,t)}};u.init();$.ajax({type:"POST",url:n,success:function(n){function s(n){$(u).removeClass(i.o.classAddAfterOpen);u.css({perspective:"1300px"});n&&$(document.documentElement).removeClass(i.o.perspectiveClass)}function e(){s($(f).hasClass(i.o.perspectiveSetClass))}$(".modal-body").html("");$("#rmsModalHeader").html(t);var u=$("#rmsModal"),o=$(i.o.closeSelector,u),f=$(this);$(u).addClass(i.o.classAddAfterOpen);$(r).on("click",function(){e();i.afterClose(f,u);$(r).off("click")});$(f).hasClass(i.o.perspectiveSetClass)&&setTimeout(function(){$(document.documentElement).addClass(i.o.perspectiveClass)},25);setTimeout(function(){u.css({perspective:"none"});u.height()%2!=0&&u.css({height:u.height()+1})},500);$(o).on("click",function(n){n.stopPropagation();e();i.afterClose(f,u)});$(".modal-body").append(n.Results[0]);i.afterOpen(f,u)},error:function(n,t,i){console.log(t);console.log(i);alert(t)}})};$.ClosePopupWindow=function(){$("button.md-close").trigger("click")};$.EmptyPopupWindow=function(){$("#rmsModal .modal-body").html("")};$.DeleteConfirm=function(n,t){$("div#mod-warning").find("input[type=button][name=btDeleteConfirm]:first").on("click",function(){n(t)});$("button#btnConfirm").trigger("click")};$.ShowMessageOnPopWindow=function(n){$("#rmsModal .modal-body").html("<h3 style='padding:20px;text-align:center'>"+n+"<h3>");setTimeout(function(){$.ClosePopupWindow()},1e3)};$.ShowMessageOnPopup=function(n){$.OpenPopupWindow({width:550,showTitle:!1,showCloseButton:!0,html:"<h3 style='padding:20px;text-align:center'>"+n+"<h3>"});setTimeout(function(){$.ClosePopupWindow()},1e4)};$.FillSelectList=function(n,t,i){t=$.parseJSON(t);i!=!1&&$(n).html("");for(var r=0;r<t.length;r++)$(n).append('<option value="'+t[r].Value+'">'+t[r].Text+"<\/option>")};$.postifyData=function(n){var t={},i=function(n,r){var u,f;for(u in n){f=isFinite(u)?(r!=""?r:"")+"["+u+"]":(r!=""?r+".":"")+u;switch(typeof n[u]){case"number":case"string":case"boolean":t[f]=n[u];break;case"object":n[u]!=null&&(n[u].toUTCString?t[f]=n[u].toUTCString().replace("UTC","GMT"):i(n[u],f!=""?f:u))}}};return i(n,""),t};$.ProcessResponse=function(n){if($.RemoveThrobber(),n.status!="success"||n.context.status!=200)return $.ShowMessage($(n.messageControl),"Unexpected Error",MessageType.Error),!1;var t=$.parseJSON(n.context.responseText);try{if(t.Status==undefined)return n.showErrorMessage!=!1?$.ShowMessage($(n.messageControl),"Invalid data returned in the response",MessageType.Error):n.error!=undefined&&n.error("Invalid data returned in the response"),!1}catch(i){n.showErrorMessage!=!1?$.ShowMessage($(n.messageControl),"Invalid data returned in the response",MessageType.Error):n.error!=undefined&&n.error("Invalid data returned in the response")}t.Status==ActionStatus.Error?(n.showErrorMessage!=!1&&$.ShowMessage($(n.messageControl),t.message,MessageType.Error),n.error!=undefined&&n.error(t.message)):n.success&&n.success(t.Results)};$.ResetValidationMessages=function(n){n==undefined&&(n=$("body"));$(n).find(".input-validation-error").addClass("input-validation-valid").removeClass("input-validation-error");$(n).find(".field-validation-error").addClass("field-validation-valid").removeClass("field-validation-error").html("")};$.ResetUnobtrusiveValidation=function(n){n.removeData("validator");n.removeData("unobtrusiveValidation");$.validator.unobtrusive.parse(n)};$.ScrollToTop=function(){var t=220,n=500;$(window).scroll(function(){$(this).scrollTop()>t?$(".back-to-top").fadeIn(n):$(".back-to-top").fadeOut(n)});$(".back-to-top").click(function(t){return t.preventDefault(),$("html, body").animate({scrollTop:0},n),!1})};$.fn.scrollView=function(){$("html, body").animate({scrollTop:0},400)};$.CheckAll=function(n){$(n).is(":checked")?($("div[name=listingContainer] table[name=Listing] tbody tr").find("input[type=checkbox][name=checkList]").attr("checked","checked"),$("div[name=listingContainer] table[name=Listing] tbody tr").addClass("bgColor")):($("[name=listingContainer] table[name=Listing] tbody tr").find("input[type=checkbox][name=checkList]").removeAttr("checked","checked"),$("div[name=listingContainer] table[name=Listing] tbody tr").removeClass("bgColor"))};jQuery.fn.reset=function(){$(this).each(function(){this.reset()})};$.ReplaceSpecialCharacter=function(n){return n=n.trim(),n=n.replace(/[^a-zA-Z0-9\.-]/g,"-"),n.replace("---","-")};Array.prototype.remove=function(){for(var n,t=arguments,i=t.length,r;i&&this.length;)for(n=t[--i];(r=this.indexOf(n))!==-1;)this.splice(r,1);return this};$.getParameterByName=function(n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+n+"=([^&#]*)"),t=i.exec(location.search);return t==null?"":decodeURIComponent(t[1].replace(/\+/g," "))};$.htmlDecode=function(n){return $("<div/>").html(n).text()};$.htmlEncode=function(n){return $("<div/>").text(n).html()};$(document).on("keyup",".search_inp",function(n){n.which===13&&Paging()});$.ConfirmBox=function(n,t,i,r,u,f,e,o,s,h){swal({title:n,text:t,type:i,showCancelButton:r,confirmButtonColor:"#DD6B55",confirmButtonText:u,cancelButtonText:s,closeOnConfirm:f},function(n){if(n)o&&o(e);else return h&&h(e),!1})},function(n){n.fn.locify=function(){function r(){var r=t.getPlace(),e,o,u,f,s;for(e in i)o=n("[data-gfield="+e+"]"),o.val("");if(r.address_components!=null)for(u=0;u<r.address_components.length;u++)f=r.address_components[u].types[0],i[f]&&(s=r.address_components[u][i[f]],n("[data-gfield="+f+"]").val(s)),u==r.address_components.length-1&&n("#Address").val(r.address_components[0].long_name+" "+r.address_components[1].long_name+" "+r.address_components[2].long_name)}var t,i={street_number:"short_name",route:"long_name",sublocality:"long_name",locality:"long_name",administrative_area_level_1:"short_name",country:"long_name",postal_code:"short_name",sublocality_level_3:"long_name"};t=new google.maps.places.Autocomplete(this[0],{types:["geocode"]});t.addListener("place_changed",r)}}(jQuery);$(document).on("click",".popup",function(){var n=document.getElementById($(this).data("rc"));n.classList.toggle("show")});$(document).on("click",".clear-search",function(){$('input[type="text"]').val("");$("select").prop("selectedIndex",0);Paging()});Date.prototype.toShortFormat=function(){var n=this.getDate(),t=this.getMonth(),i=this.getFullYear();return""+n+"-"+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t]+"-"+i};paging={startIndex:1,currentPage:0,pageSize:10,pagingWrapper:"pagingWrapper1",first:"first",last:"last",previous:"prev",next:"next",numeric:"numeric",pageInfo:"pageInfo",PagingFunction:""},function(n){function t(n){return n.substr(0,n.lastIndexOf(".")+1)}function i(n,t){return n.indexOf("*.")===0&&(n=n.replace("*.",t)),n}function r(t,r,u){var s=i(t,u),f=n("*[name='"+s+"']"),h=f.attr("type"),e=h==="checkbox"?f.attr("checked"):f.val(),o=f.data("dateformat");return o!=undefined&&(e=n.datepicker.parseDate(o,e)),e}n.validator.addMethod("requiredif",function(t,i,r){var u=r.validatorFunc,f=u();return f?n.validator.methods.required.call(this,t,i,r):!0});n.validator.unobtrusive.adapters.add("requiredif",["expression"],function(n){var i=t(n.element.name),u=n.params.expression,f=function(n,t){return r(n,t,i)};eval("function theValidator(gv) { return "+u+";}");n.rules.requiredif={validatorFunc:function(){return theValidator(f)}};n.messages.requiredif=n.message})}(jQuery);