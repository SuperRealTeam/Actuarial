function initPlaces(){function u(){console.log(this.inputId);var n=this.getPlace();console.log(n.address_components[0].long_name)}for(var t,i=document.getElementsByClassName("google_map_placeholder"),r=[],n=0;n<i.length;n++)t=new google.maps.places.Autocomplete(i[n]),t.inputId=i[n].id,t.addListener("place_changed",u),r.push(t)}function Paging(n){var t={};t.Search=$("#Search").val();t.PageNo=Math.ceil(paging.startIndex/paging.pageSize);t.RecordsPerPage=paging.pageSize;t.SortBy=$("#SortBy").val();t.SortOrder=$("#SortOrder").val();t.Purpose=$("#cur-purpose").val();t.minDate=$("#minDate").val();t.maxDate=$("#maxDate").val();t.IsBranch=$("#IsBranch").val();t.AddedByAgency=$("#AddedByAgency").val();t.IsViewOnly=$("#IsViewOnly").val();$.ajaxExt({type:"POST",validate:!1,parentControl:$(n).parents("form:first"),data:$.postifyData(t),messageControl:null,showThrobber:!1,throbberPosition:{my:"left center",at:"right center",of:n,offset:"5 0"},url:baseUrl+siteURL.GetPropertyPagingList,success:function(n){$("#divResult table:first tbody").html(n[0]);PageNumbering(n[1])}})}function getDate(n){try{date=new Date(n.value)}catch(t){date=null}return date}function showAddressOnMap(n){var t,i,r,u;geocoder=new google.maps.Geocoder;t="";i="";geocoder.geocode({address:n},function(n,r){if(r==google.maps.GeocoderStatus.OK){t=n[0].geometry.location.lat();i=n[0].geometry.location.lng();map.setCenter(n[0].geometry.location);var u=new google.maps.Marker({map:map,position:n[0].geometry.location})}else alert("Geocode was not successful for the following reason: "+r)});r=new google.maps.LatLng(t,i);u={zoom:8,center:r,mapTypeId:google.maps.MapTypeId.ROADMAP};map=new google.maps.Map(document.getElementById("map"),u)}function readmore(){var n=document.getElementById("dots"),t=document.getElementById("more"),i=document.getElementById("myBtn");n.style.display==="none"?(n.style.display="inline",i.innerHTML="Read more",t.style.display="none"):(n.style.display="none",i.innerHTML="Read less",t.style.display="inline")}function InitSideMenu(){var n=window.location.href.substr(window.location.href.lastIndexOf("/")+1);$("ul.nav li.nav-item a.nav-link").each(function(){var t=$(this).attr("href").substr($(this).attr("href").lastIndexOf("/")+1);t===n&&$(this).parent().addClass("active-page")})}function setCookie(n,t,i){var r=new Date,u;r.setTime(r.getTime()+i*864e5);u="expires="+r.toUTCString();document.cookie=n+"="+t+";"+u+";path=/"}function getCookie(n){for(var t,r=n+"=",f=decodeURIComponent(document.cookie),u=f.split(";"),i=0;i<u.length;i++){for(t=u[i];t.charAt(0)==" ";)t=t.substring(1);if(t.indexOf(r)==0)return t.substring(r.length,t.length)}return""}function checkCookie(){var n=getCookie("username");n!=""?alert("Welcome again "+n):(n=prompt("Please enter your name:",""),n!=""&&n!=null&&setCookie("username",n,365))}function setCookie(n,t,i){var r=new Date;r.setDate(r.getDate()+i);document.cookie=n+"="+t+";path=/"+(i==null?"":";expires="+r.toGMTString())}function getCookie(n){var i=document.cookie,u=n+"=",t=i.indexOf("; "+u),r;if(t==-1){if(t=i.indexOf(u),t!=0)return null}else t+=2;return r=document.cookie.indexOf(";",t),r==-1&&(r=i.length),unescape(i.substring(t+u.length,r))}function eraseCookie(n){document.cookie=n+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"}function PageNumbering(n){var i=0,f,r,u,e,t;for(i=parseInt((parseInt(n)+parseInt(paging.pageSize)-1)/parseInt(paging.pageSize)),n===0||i===1?$("."+paging.pagingWrapper).css("display","none"):$("."+paging.pagingWrapper).css("display",""),f=parseInt(paging.startIndex-1+paging.pageSize),f>n&&(f=n),paging.currentPage>0?($("."+paging.pagingWrapper+" ."+paging.first).unbind("click"),$("."+paging.pagingWrapper+" ."+paging.first).removeClass("disabled"),$("."+paging.pagingWrapper+" ."+paging.first).click(function(){return GotoPage(0,this),!1}),$("."+paging.pagingWrapper+" ."+paging.previous).unbind("click"),$("."+paging.pagingWrapper+" ."+paging.previous).removeClass("disabled"),$("."+paging.pagingWrapper+" ."+paging.previous).click(function(){return GotoPage(paging.currentPage-1,this),!1})):($("."+paging.pagingWrapper+" ."+paging.first).addClass("disabled"),$("."+paging.pagingWrapper+" ."+paging.first).unbind("click"),$("."+paging.pagingWrapper+" ."+paging.previous).addClass("disabled"),$("."+paging.pagingWrapper+" ."+paging.previous).unbind("click")),paging.currentPage<i-1?($("."+paging.pagingWrapper+" ."+paging.next).unbind("click"),$("."+paging.pagingWrapper+" ."+paging.next).removeClass("disabled"),$("."+paging.pagingWrapper+" ."+paging.next).click(function(){return GotoPage(paging.currentPage+1,this),!1}),$("."+paging.pagingWrapper+" ."+paging.last).unbind("click"),$("."+paging.pagingWrapper+" ."+paging.last).removeClass("disabled"),$("."+paging.pagingWrapper+" ."+paging.last).click(function(){return GotoPage(i-1,this),!1})):($("."+paging.pagingWrapper+" ."+paging.next).addClass("disabled"),$("."+paging.pagingWrapper+" ."+paging.next).unbind("click"),$("."+paging.pagingWrapper+" ."+paging.last).addClass("disabled"),$("."+paging.pagingWrapper+" ."+paging.last).unbind("click")),r=0,u=10,paging.currentPage>=5&&(u=paging.currentPage+5,r=paging.currentPage-5),u>i&&(u=i,r=u-10),r<0&&(r=0),e="",t=r;t<u;t++)e+=t===paging.currentPage?"<li class='active "+paging.numeric+"' > <a class='page-link' href='javascript:void(0)'>"+parseInt(t+1)+"<\/a><\/li>":"<li class='"+paging.numeric+"'><a class='page-link' href='javascript:void(0)' onclick='return GotoPage("+t+", this)' > "+parseInt(t+1)+"<\/a><\/li>";$("."+paging.pagingWrapper+" li").each(function(){$(this).hasClass(paging.numeric)&&$(this).remove()});$(e).insertAfter($("."+paging.pagingWrapper+" ."+paging.previous))}function GotoPage(n,t){return paging.currentPage=n,paging.startIndex=n*paging.pageSize+1,typeof onGotoPage!="undefined"&&onGotoPage(n,t),paging.PagingFunction.trim().length>0?window[paging.PagingFunction]():Paging(paging.startIndex,paging.pageSize,t),!1}var imgPath="http://localhost:50490//Property//",rowCount=1,rowCount=1,dateFormat="mm/dd/yyyy",pictures=[],floorPictures=[],eventHandler=function(){return function(){var t=$(".input_fields_wrap_contact"),n;$(".divnew").remove();n=$("#contCount").val();$(".selectize-input .item").each(function(){$(t).append('<div class="form-group divnew"> <div class="form-check"><label class="form-check-label form_check_inline_label"><input class="form-check-input chkContact" type="checkbox" data-type='+$(this)[0].dataset.value+'  id="contactlistModel['+n+'].IsPrimary">'+$(this)[0].innerText.substring(0,$(this)[0].innerText.length-1)+'<i class="input-helper"><\/i><span class="hdnspan" style="display:none"> Primary Contact<\/span><\/label><input type="hidden" name="contactlistModel['+n+'].IsPrimary" value=false><input type="hidden" name="contactlistModel['+n+'].ContactId" value='+$(this)[0].dataset.value+'><div class="clearfix"><\/div><\/div><a href="javascript:" class="remove_field_contact"> <i class="fa fa-trash-o" aria-hidden="true"><\/i><\/a><\/div>');n++})}},Property,paging;$(document).ready(function(){function u(){clearInterval(r)}function f(){clearInterval(t)}var t,r,i,n;$("#PropertyContactName").selectize({plugins:["remove_button"],maxItems:null,valueField:"id",labelField:"name",searchField:"name",options:[],load:function(n,t){if(!n.length)return t();$.ajax({url:siteURL.GetContactList,type:"GET",dataType:"json",data:{Search:n,RecordsPerPage:10,AgentID:$("#AgentId").val(),ExceptID:$("#hdnPropertyContactName").val()},error:function(){t()},success:function(n){t(n)}})},onChange:eventHandler("onChange")});$(document).on("change",".chkContact",function(){$(".hdnspan").hide();$(this)[0].checked==!0&&($(this).parent().find(".hdnspan").show(),$("input.chkContact").not(this).prop("checked",!1),$("#hdnPrimaryContact").val($(this)[0].dataset.type))});$(".divreadmore").readmore({speed:75,moreLink:'<a href="#">Read more<\/a>',lessLink:'<a href="#">Close<\/a>',collapsedHeight:100,heightMargin:16,embedCSS:!1,startOpen:!1,blockCSS:"display: block; width: 100%;"});$(document).on("click","#btnSendEmail",function(){if($("#PrimaryContactEmail").val()!=""){$("#msgtextEmail").html("");return/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/i.test($("#PrimaryContactEmail").val())?Property.SendAppraisalEmail($("#AppraisalUniqueId").val(),$("#PrimaryContactEmail").val()):($("#msgtextEmail").html("Enter correct email"),!1)}$("#msgtextEmail").html("Please add email")});$(document).on("click",".doc-link",function(){$("#doclink").val($(this).data("typeDoclink"));$("#sendDocEmailModal").modal("show")});$(document).on("click","#btnSendDocEmail",function(){if($("#docemail").val()){$("#msgtextdocEmail").html("");return/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/i.test($("#docemail").val())?Property.SendDocLinkEmail($("#doclink").val(),$("#docemail").val(),$("#PropertygoogleLocaltion").val()):($("#msgtextdocEmail").html("Enter correct email"),!1)}$("#msgtextdocEmail").html("Please add email")});$(document).on("click",".apropertytabs",function(){var t=$(this).parent("li").next("li").length,n;t===0?$("#btnNext").hide():$("#btnNext").show();n=$(this).parent("li").prev("li").length;n===0?$("#btnPrevious").hide():$("#btnPrevious").show();setTimeout(function(){$("html, body").animate({scrollTop:0},"slow")},500)});if(window.File&&window.FileList&&window.FileReader)$("#files").on("change",function(n){for(var u,i,r=n.target.files,f=r.length,t=0;t<f;t++)u=r[t],i=new FileReader,i.onload=function(n){var i=n.target;$('<span class="pip"><img class="imageThumb" src="'+n.target.result+'" title="'+i.name+'"/><br/><span class="remove remove-img-btn" data-id='+t+">X<\/span><\/span>").insertAfter("#files")},i.readAsDataURL(u)});else alert("Your browser doesn't support to File API");if(window.File&&window.FileList&&window.FileReader)$("#fPics").on("change",function(n){for(var u,i,r=n.target.files,f=r.length,t=0;t<f;t++)u=r[t],i=new FileReader,i.onload=function(n){var i=n.target;$('<span class="floorPics"><img class="floorImageThumb img-prev" src="'+n.target.result+'" title="'+i.name+'"/><br/><span class="removefloor remove-img-btn" data-id='+t+">X<\/span><\/span>").insertAfter("#fPics")},i.readAsDataURL(u)});else alert("Your browser doesn't support to File API");$(document).on("click",".removefloor",function(){var t=$(this).data("id")-1,n=$(this).data("url");n!=undefined&&$("#hastoDeleteFloorPictures").val(n+","+$("#hastoDeleteFloorPictures").val());$(this).parent(".floorPics").remove()});$(document).on("click","#btnNext",function(){$(".nav-tabs > .active").next("li").find("a").trigger("click");$("#btnPrevious").show();var n=$(".nav-tabs > .active").next("li").length;n===0&&$("#btnNext").hide();setTimeout(function(){$("html, body").animate({scrollTop:0},"slow")},500)});$("#progressImages").hide();$("#progressFloorImages").hide();$(document).on("click","#btnUploadImages",function(){var e=document.getElementById("files"),r=e.files,t,n,f;for(filesLength=r.length,t=new FormData,n=0;n<filesLength;n++)f=r[n],t.append("files",f);$(".modalAjaxLoader").fadeIn();$.ajax({url:"/agent/uploader/ImagesUpload",data:t,processData:!1,contentType:!1,global:!1,cache:!1,type:"POST",success:function(n){var r,f,t;if(i=1,u(),r=n,$("#ImagesNameArray").val(r),$("#files").hide(),$("#btnUploadImages").hide(),$("#labelImages").html("100%"),$("#barImages").css({width:"100%"}),$(".remove").hide(),$(".modalAjaxLoader").fadeOut(),r!="")for(f=r.slice(0,-1).split(","),t=0;t<f.length;t++)$(".imageThumb")[t].src=imgPath+f[t]}})});$(document).on("click","#btnUploadFloorImages",function(){var e=document.getElementById("fPics"),r=e.files,i,t,u;for(filesLength=r.length,i=new FormData,t=0;t<filesLength;t++)u=r[t],i.append("files",u);$(".modalAjaxLoader").fadeIn();$.ajax({url:"/agent/uploader/FloorImagesUpload",data:i,processData:!1,contentType:!1,global:!1,cache:!1,type:"POST",success:function(t){var r,u,i;if(n=1,f(),r=t,$("#FloorImagesNameArray").val(r),$("#fPics").hide(),$("#btnUploadFloorImages").hide(),$("#labelFloorImages").html("100%"),$("#barFloorImages").css({width:"100%"}),$(".removefloor").hide(),$(".modalAjaxLoader").fadeOut(),r!="")for(u=r.slice(0,-1).split(","),i=0;i<u.length;i++)$(".floorImageThumb")[i].src=imgPath+u[i]}})});i=0;n=0;$(document).on("click","#btnPrevious",function(){$(".nav-tabs > .active").prev("li").find("a").trigger("click");$("#btnNext").show();var n=$(".nav-tabs > .active").prev("li").length;n===0&&$("#btnPrevious").hide();setTimeout(function(){$("html, body").animate({scrollTop:0},"slow")},500)});$(document).on("click",".remove",function(){var t=$(this).data("id")-1,n=$(this).data("url");n!=undefined&&$("#hastoDeletePictures").val(n+","+$("#hastoDeletePictures").val());$(this).parent(".pip").remove()});$(document).on("click","#AddUpdateDetails",function(){return $(".upload").val(""),$("#PropertyDescription").val(CKEDITOR.instances.PropertyDescription.getData()),$(".collapse").addClass("show"),document.getElementById("files").files.FileList={},$("#files").replaceWith($("#files").val("").clone(!0)),$("#fPics").replaceWith($("#fPics").val("").clone(!0)),Property.AddUpdateDetails($(this))});$(document).on("click",".add-new-contact",function(){if($("#PropertyGooglePlacesLocation").val()==""){swal("Alert","Please enter a address to add new contact","warning");return}if($("#AgentId").val()==""){swal("Alert","Please select an assigned to add new contact","warning");return}$("form.contactForm #AgentId").val($("#AgentId").val());$("form.contactForm #PropertyAddress").val($("#PropertyGooglePlacesLocation").val());$("#addContactModal").modal("show")});$(document).on("change","#ContactType",function(){$(this).val()==="2"?($(".company-div").show(),$(".req-com").prop("required",!0)):($(".company-div").hide(),$(".req-com").prop("required",!1))});$(document).on("click","#AddUpdateContactDetails",function(){return Property.AddUpdateContactDetails($(this))});$(document).on("click",".add-property-note",function(){$("#NotesPropertyId").val($(this).data("propertyid"));$("#myNotesModal").modal("show")});$(document).on("click","#btnAddNote",function(){$("#propertyNote").val()?($("#msgtext").html(""),Property.AddPropertyNote($(this).data("propertyid")),setTimeout(function(){$("#myNotesModal").trigger("click.dismiss.bs.modal")},2e3)):$("#msgtext").html("Please add note text")});$(document).on("click",".esign-property",function(){Property.eSignPropertyRecord($(this).data("propertyid"))});$(document).on("click",".delete-property",function(){Property.DeletePropertyRecord($(this).data("propertyid"))});$(document).on("click",".delete-note",function(){Property.DeletePropertyNote($(this).data("noteid"))});$(document).on("change",".currentWork",function(){this.checked?$(this).prev().hide():$(this).prev().show()});$(document).on("click",".approve approve-property",function(){Property.ApprovePropertyRecord($(this).data("propertyid"))});$(document).on("click","input[type=button]#btnFilterVersion",function(){return Property.ManagePropertys($(this))});$(document).on("click",".apurpose",function(){$("#cur-purpose").val($(this).data("purpose"));$(".apurpose").each(function(){$(this).removeClass("active");$(this).parent().removeClass("active")});$(this).addClass("active");$(this).parent().addClass("active");Paging()});$(document).on("click",".apropertytabs",function(){$(".apropertytabs").each(function(){$(this).removeClass("active");$(this).parent().removeClass("active")});$(this).addClass("active");$(this).parent().addClass("active")});$("select#showRecords").on("change",function(){return Property.ShowRecords($(this))});$(document).on("click",".sorting",function(){return Property.SortPropertys($(this))});$(document).on("click",".add-enquiry",function(){window.location.href=baseUrl+siteURL.AddEnquiry+"/"+$(this).data("propertyid")});$(document).on("click",".search-btn",function(){return Property.SearchPropertys($(this))});$(document).on("click","#addPropertyNote",function(){return Property.AddUpdatePropertyNote($(this))});$(document).on("click",".see_primary",function(){window.location.href=siteURL.ContactDetails+"/"+$(this).data("contact_uid")});$(document).on("click",".enquiry-property",function(){window.location.href=baseUrl+siteURL.GetPropertyEnquiry+"/"+$(this).data("propertyid")});$("#Search").keypress(function(n){if(n.which===13)return Property.SearchPropertys($(this))});$(document).on("click",".add-appraisal",function(){$("#PropertyContactId").val()!=""?window.location.href=baseUrl+siteURL.AddAppraisal+"/"+$(this).data("propertyid"):$.ConfirmBox("","Primary contact is not added. Do you want to add that now ?",null,!0,"Yes",!0,null,function(){$('.nav-tabs a[href="#owners"]').click();$("#btnEditOwner").click();setTimeout(function(){$(window).scrollTop($("#owners").offset().top)},100)},"",function(){})});$(document).on("click",".upd_agreement",function(){console.log($("#PropertySellerEmail").val());$("#PropertySellerEmail").val()!=""?$("#PropertyEnlistModal").modal("show"):swal({title:"Seller Solicitor",text:"Seller Solicitor details are not added",type:"info",closeOnConfirm:!0,showLoaderOnConfirm:!0},function(){$("#PropertyEnlistModal").modal("show")})});$(document).on("click",".upd_SaleAdvise",function(){$("#PropertyBuyerEmail").val()!=""?$("#SalesAdviseModal").modal("show"):$.ConfirmBox("","Buyer Solicitor details are not added. Please add now",null,!0,"OK",!0,null,function(){$("#SalesAdviseModal").modal("hide");$('.nav-tabs a[href="#legal"]').click();$("#btnEditLegalDetail").click();setTimeout(function(){$(window).scrollTop($("#legal").offset().top)},100)},"",function(){})});$(".postcodes").select2({placeholder:"Search by postcode",multiple:!0,maximumSelectionSize:1,ajax:{url:siteURL.GetPostList,global:!1,cache:!1,dataType:"json",data:function(n,t){return{Search:n,RecordsPerPage:10,PageNo:t}},results:function(n){var t=[];return $.each(n,function(n,i){t.push({id:i.id,text:i.name})}),{results:t}}},initSelection:function(n,t){var i;return i=$(n).val(),i!=""?$.ajax({url:baseUrl+siteURL.GetInitPostCodeList,type:"Get",dataType:"json",global:!1,cache:!1,data:{Ids:i}}).done(function(n){var i;i=[];$.each(n,function(n,t){i.push({id:t.id,text:t.name})});t(i)}):void 0}});$(document).on("click",".details-property",function(){window.location.href=baseUrl+siteURL.DetailsProperty+"/"+$(this).data("propertyid")});$(document).on("click",".prop-enlist",function(){$("#PropertyUniqueId").val($(this).data("propertyid"));$("#propertyUniqueID").val($(this).data("propertyid"));$("#PropertyEnlistModal").modal("show")});$(document).on("click","#btnPropertyEnlist",function(){return Property.AgreementDocument($(this))});$(document).on("click","#btnUploadContractOfSale",function(){return Property.UploadContractOfSale($(this))});$(document).on("click","#btnUploadSalesAdvise",function(){return Property.UploadSalesAdvise($(this))});$(document).on("click","#btnPropertyEnlistNew",function(){var n="",t="";if($("#hdnPropPics").length==0&&$("#PropertyDescription").val()==""?n="Property description and photos are not added yet. Do you want to add that now?":$("#hdnPropPics").length>0&&$("#PropertyDescription").val()==""?n="Property description are not added yet. Do you want to add that now?":$("#hdnPropPics").length==0&&$("#PropertyDescription").val()!=""?n="Property photos are not added yet. Do you want to add that now?":$("#PropertyPrice").val()==""&&(n="Property price are not added yet. Do you want to add that now?",t="Property price are not added yet. Do you want to add that now?"),n=="")return Property.EnlistProperty($(this));$.ConfirmBox("",n,null,!0,"Yes",!0,null,function(){t!=""?($('.nav-tabs a[href="#listing"]').click(),$("#btnDetailsListing").click(),setTimeout(function(){$(window).scrollTop($("#listing").offset().top)},100)):($('.nav-tabs a[href="#add_details"]').click(),$("#btnEditAddDetail").click(),setTimeout(function(){$(window).scrollTop($("#add_details").offset().top)},100))},"",function(){})});$(document).on("click","#btnAddUpdateSolicitorDetail",function(){return Property.AddUpdateBuyerSolicitor($(this))});$(document).on("change",".priceRadio",function(){$(this).val()==="True"?($(".price-text").show(),$("#PropertyPrice").addClass("required")):($(".price-text").hide(),$("#PropertyPrice").removeClass("required"))});$(document).on("click",".modal-prop-enlist",function(){var n="",t="";if($("#hdnPropPics").val()==0&&$("#PropertyDescription").val()==""?n="Property description and photos are not added yet. Do you want to add that now?":$("#hdnPropPics").val()>0&&$("#PropertyDescription").val()==""?n="Property description are not added yet. Do you want to add that now?":$("#hdnPropPics").val()==0&&$("#PropertyDescription").val()!=""?n="Property photos are not added yet. Do you want to add that now?":$("#PropertyPrice").val()==""&&(n="Property price are not added yet. Do you want to add that now?",t="Property price are not added yet. Do you want to add that now?"),n=="")return Property.EnlistProperty($(this));$.ConfirmBox("",n,null,!0,"Yes",!0,null,function(){t!=""?($('.nav-tabs a[href="#listing"]').click(),$("#btnDetailsListing").click(),setTimeout(function(){$(window).scrollTop($("#listing").offset().top)},100)):($('.nav-tabs a[href="#add_details"]').click(),$("#btnEditAddDetail").click(),setTimeout(function(){$(window).scrollTop($("#add_details").offset().top)},100))},"",function(){})})});Property={AddUpdateContactDetails:function(){var n=$("form.contactForm");return $.ajaxExt({url:baseUrl+siteURL.AddUpdateContactDetails,type:"POST",validate:!0,formToValidate:n,formToPost:n,isScroll:!1,isAjaxForm:!0,showThrobber:!1,showErrorMessage:!0,messageControl:$("div.messageAlert"),success:function(n,t,i,r){i==ActionStatus.Successfull&&(r!=""&&$.ajax({url:siteURL.GetInitContactList,type:"Get",dataType:"json",global:!1,cache:!1,data:{Ids:r}}).done(function(n){var i,r,t;i=[];r=$(".input_fields_wrap_contact");t=$("#contCount").val();$.each(n,function(n,u){i.push({id:u.id,text:u.name});$(r).append('<div class="form-group divnew"> <div class="form-check"><label class="form-check-label form_check_inline_label"><input class="form-check-input chkContact" type="checkbox" data-type='+u.id+'  id="contactlistModel['+t+'].IsPrimary">'+u.name+'<i class="input-helper"><\/i><span class="hdnspan" style="display:none"> Primary Contact<\/span><\/label><input type="hidden" name="contactlistModel['+t+'].IsPrimary" value=false><input type="hidden" name="contactlistModel['+t+'].ContactId" value='+u.id+'><div class="clearfix"><\/div><\/div><a href="#" class="remove_field_contact"> <i class="fa fa-trash-o" aria-hidden="true"><\/i><\/a><\/div>');t++;$("#hdnPropertyContactName").val()!=""?$("#hdnPropertyContactName").val($("#hdnPropertyContactName").val()+","+u.id):$("#hdnPropertyContactName").val(u.id)});$("#contCount").val(t);console.log("results",i)}),$("#addContactModal").modal("hide"),$("form.contactForm").reset());$.ShowMessage($("div.messageAlert"),t,MessageType.Success)}}),!1},BindImagesToForm:function(){var n=0;$(".imageThumb").each(function(){pictures.push($(this).attr("src"));$(".pics").append('<input type="hidden" id="PropertyPics['+n+']" name="PropertyPics['+n+']" value='+$(this).attr("src")+" />");n+=1});n=0;$(".floorImageThumb").each(function(){floorPictures.push($(this).attr("src"));$(".floorPix").append('<input type="hidden" id="FloorPics['+n+']" name="FloorPics['+n+']" value='+$(this).attr("src")+" />");n+=1})},AddUpdatePropertyNote:function(){var n=$("form.Property_Note_form");return $.ajaxExt({url:baseUrl+siteURL.AddUpdatePropertyNote,type:"POST",validate:!0,formToValidate:n,formToPost:n,isAjaxForm:!0,showThrobber:!1,showErrorMessage:!0,messageControl:$("div.messageAlert"),success:function(n,t){$.ShowMessage($("div.messageAlert"),t,MessageType.Success);setTimeout(function(){window.location.reload()},2e3)}}),!1},AddUpdateDetails:function(){var n=$("form#AddUpdateProperty");return $.ajaxExt({url:baseUrl+siteURL.AddUpdatePropertyDetails,type:"POST",validate:!0,formToValidate:n,formToPost:n,isAjaxForm:!0,showThrobber:!1,showErrorMessage:!0,messageControl:$("div.messageAlert"),success:function(n,t){$.ShowMessage($("div.messageAlert"),t,MessageType.Success);var i=$("#propertyUniqueID").val();i!=""?window.location.href=baseUrl+siteURL.DetailsProperty+"/"+i:setTimeout(function(){window.location.href=siteURL.PropertyList},2e3)},error:function(n,t,i){i.hasError==!0?($("#PropertyGooglePlacesLocation").focus(),$("#PropertyGooglePlacesLocation").next().addClass("field-validation-error"),$("#PropertyGooglePlacesLocation").addClass("input-validation-error"),$("#PropertyGooglePlacesLocation").next().html("This property is already exist.")):($("#PropertyGooglePlacesLocation").next().removeClass("field-validation-error"),$("#PropertyGooglePlacesLocation").removeClass("input-validation-error"),$("#PropertyGooglePlacesLocation").next().html(""))}}),!1},SortPropertys:function(n){$(n).hasClass("sorting_asc")?($(".sorting").removeClass("sorting_asc"),$(".sorting").removeClass("sorting_desc"),$(n).addClass("sorting_desc"),$("#SortBy").val($(n).attr("data-sortby")),$("#SortOrder").val("Desc"),paging.startIndex=1,paging.currentPage=0,Paging()):($(".sorting").removeClass("sorting_asc"),$(".sorting").removeClass("sorting_desc"),$(n).addClass("sorting_asc"),$("#SortBy").val($(n).attr("data-sortby")),$("#SortOrder").val("Asc"),paging.startIndex=1,paging.currentPage=0,Paging())},ManagePropertys:function(n){var t=0;t=parseInt(n);PageNumbering(t)},SearchPropertys:function(n){paging.startIndex=1;Paging(n)},ShowRecords:function(n){paging.startIndex=1;paging.pageSize=parseInt($(n).find("option:selected").val());Paging(n)},DeleteProperty:function(){$.ConfirmBox("","Are you sure?",null,!0,"Yes",!0,null,function(){$.ajax({type:"GET",url:siteURL.DeleteProperty,contentType:"application/json",dataType:"json",success:function(){},failure:function(n){alert(n)}})})},DeletePropertyNote:function(n){$.ConfirmBox("","Are you sure?",null,!0,"Yes",!0,null,function(){$.ajaxExt({type:"POST",validate:!1,showErrorMessage:!0,messageControl:$("div.messageAlert"),showThrobber:!0,url:baseUrl+siteURL.DeletePropertyNote,data:{noteID:n},success:function(n,t,i){$.ShowMessage($("div.messageAlert"),t,i);setTimeout(function(){window.location.reload()},2e3)}})},"",function(){})},ApprovePropertyRecord:function(n){$.ConfirmBox("","Are you sure want to approve this record?",null,!0,"Yes",!0,null,function(){$.ajaxExt({type:"POST",validate:!1,showErrorMessage:!0,messageControl:$("div.messageAlert"),showThrobber:!0,url:baseUrl+siteURL.ApproveProperty,data:{propertyID:n},success:function(n,t,i){$.ShowMessage($("div.messageAlert"),t,i);Paging()}})},"",function(){})},EnableDisableProperty:function(){$.ConfirmBox("","Are you sure?",null,!0,"Yes",!0,null,function(){$.ajax({type:"GET",url:siteURL.EnableDisableProperty,contentType:"application/json",dataType:"json",success:function(){},failure:function(n){alert(n)}})})},DeletePropertyRecord:function(n){$.ConfirmBox("","Are you sure?",null,!0,"Yes",!0,null,function(){$.ajaxExt({type:"POST",validate:!1,showErrorMessage:!0,messageControl:$("div.messageAlert"),showThrobber:!0,url:baseUrl+siteURL.DeleteProperty,data:{propertyID:n},success:function(n,t,i){$.ShowMessage($("div.messageAlert"),t,i);window.location.reload()}})},"",function(){})},AddPropertyNote:function(){var n=$("#propertyNote").val(),t=$("#name").val(),i=$("#NotesPropertyId").val();$.ajaxExt({type:"POST",validate:!1,showErrorMessage:!0,messageControl:$("div.messageAlert"),showThrobber:!0,url:baseUrl+siteURL.AddNote,data:{propertyID:i,NoteText:n,name:t},success:function(n,t,i){$.ShowMessage($("div.messageAlert"),t,i);window.location.reload()}})},eSignPropertyRecord:function(n){$.ajaxExt({type:"POST",validate:!1,showErrorMessage:!0,messageControl:$("div.messageAlert"),showThrobber:!0,url:baseUrl+siteURL.eSignProperty,data:{propertyID:n},success:function(n,t,i){$.ShowMessage($("div.messageAlert"),t,i);window.location.reload()}})},AddNewExperience:function(){var n='<tr class="data-contact-person"><td><input type="text" name="AffiliationList['+rowCount+'].CompanyName" class="form-control" /><\/td><td><textarea name="AffiliationList['+rowCount+'].CompanyDesc" class="form-control" /><\/td><td><input type="text" data-id='+rowCount+" id=start-"+rowCount+' name="AffiliationList['+rowCount+'].StartDate" class="form-control" readonly = "readonly" /><\/td><td><input type="text" data-id='+rowCount+" id=end-"+rowCount+' name="AffiliationList['+rowCount+'].EndDate" class="form-control" readonly = "readonly" /><\/td><td><button type="button" id="btnAdd" class="btn btn-xs btn-primary add-exp">Add More<\/button><button type="button" id="btnDelete" class="delete-exp btn btn btn-danger btn-xs">Remove<\/button><\/td><\/tr>';$("#exp-table").append(n);Property.AssignStartEndDate(rowCount);rowCount+=1},AssignStartEndDate:function(n){$("#start-"+n).datepicker({defaultDate:"+1w",changeMonth:!0,numberOfMonths:1}).on("change",function(){$("#end-"+$(this).data("id")).datepicker("option","minDate",getDate(this))});$("#end-"+n).datepicker({defaultDate:"+1w",changeMonth:!0,numberOfMonths:1}).on("change",function(){$("#start-"+$(this).data("id")).datepicker("option","maxDate",getDate(this))})},SendAppraisalEmail:function(n,t){$.ajaxExt({type:"POST",validate:!1,showErrorMessage:!0,messageControl:$("div.messageAlert"),showThrobber:!0,url:baseUrl+siteURL.sendAppraisalsEmail,data:{appUniqueId:n,email:t},success:function(n,t,i){$.ShowMessage($("div.messageAlert"),t,i);window.location.reload()}})},AgreementDocument:function(){var n=$("#FormPropertyEnlist");$.ajaxExt({type:"POST",validate:!0,formToValidate:n,formToPost:n,isAjaxForm:!0,showErrorMessage:!0,messageControl:$("div.messageAlert"),showThrobber:!0,url:baseUrl+siteURL.AgreementDocument,success:function(n,t,i){$.ShowMessage($("div.messageAlert"),t,i);setTimeout(function(){window.location.reload()},2e3)},error:function(n,t){t>0&&$.ConfirmBox("","Required Seller Solicitor Detail want to redirect Edit Property  ?",null,!0,"Yes",!0,null,function(){var n=$("#propertyUniqueID").val();localStorage.setItem("tab","#collapseSix");window.location.href=baseUrl+siteURL.EditProperty+"/"+n},"",function(){})}})},UploadContractOfSale:function(){var n=$("#FormContractOfSale");$.ajaxExt({type:"POST",validate:!0,formToValidate:n,formToPost:n,isAjaxForm:!0,showErrorMessage:!0,messageControl:$("div.messageAlert"),showThrobber:!0,url:baseUrl+siteURL.ContractOfSale,success:function(n,t,i){$.ShowMessage($("div.messageAlert"),t,i);setTimeout(function(){window.location.reload()},2e3)}})},UploadSalesAdvise:function(){var n=$("#FormSalesAdvise");$.ajaxExt({type:"POST",validate:!0,formToValidate:n,formToPost:n,isAjaxForm:!0,showErrorMessage:!0,messageControl:$("div.messageAlert"),showThrobber:!0,url:baseUrl+siteURL.SalesAdviseDocument,success:function(n,t,i){$.ShowMessage($("div.messageAlert"),t,i);setTimeout(function(){window.location.reload()},2e3)},error:function(n,t){t>0&&($("#SalesAdviseModal").modal("hide"),$("#addBuyerSolicitorModal").modal("show"))}})},EnlistProperty:function(){$.ConfirmBox("","Are you sure want to Enlist ?",null,!0,"Enlist",!0,null,function(){var n=$("#propertyUniqueID").val();$.ajaxExt({type:"POST",validate:!1,showErrorMessage:!0,messageControl:$("div.messageAlert"),showThrobber:!0,url:baseUrl+siteURL.EnlistProperty,data:{propertyID:n},success:function(n,t,i){$.ShowMessage($("div.messageAlert"),t,i);setTimeout(function(){window.location.reload()},2e3)},error:function(n,t){t>0&&$.ConfirmBox("","Required Images want to redirect Edit Property  ?",null,!0,"Yes",!0,null,function(){var n=$("#propertyUniqueID").val();localStorage.setItem("tab","#collapseFour");window.location.href=baseUrl+siteURL.EditProperty+"/"+n},"",function(){})}})},"",function(){})},SendDocLinkEmail:function(n,t,i){$.ajaxExt({type:"POST",validate:!1,showErrorMessage:!0,messageControl:$("div.messageAlert"),showThrobber:!0,url:baseUrl+siteURL.sendDocLinkEmail,data:{docLink:n,email:t,property:i},success:function(n,t,i){$.ShowMessage($("div.messageAlert"),t,i);window.location.reload()}})},AddUpdateBuyerSolicitor:function(){var n=$("#FormBuyerSolicitor");$.ajaxExt({type:"POST",validate:!0,formToValidate:n,formToPost:n,isAjaxForm:!0,showErrorMessage:!0,messageControl:$("div.messageAlert"),showThrobber:!0,url:baseUrl+siteURL.AddUpdateBuyerSolicitorDetails,success:function(n,t,i){$.ShowMessage($("div.messageAlert"),t,i);setTimeout(function(){window.location.reload()},2e3)}})}};$(document).on("click",".add-exp",function(){Property.AddNewExperience()});$(document).on("click",".delete-exp",function(){rowCount=-1;$(this).closest("tr").remove()});var baseUrl="",MessageType={Success:1,Error:2,Warning:3,None:4},ViewMode={MapView:99},ActionStatus={Successfull:1,Error:2,LoggedOut:3,Unauthorized:4},Constants={PageSize:1};$.ShowThrobber=function(n,t){t!=undefined&&$(t).attr("disabled","disabled");$(".md-overlay").css("visibility","visible");$(".md-overlay").css("opacity","1");$("#MainThrobberImage").show().position(n)};$.RemoveThrobber=function(n){n!=undefined&&$(n).removeAttr("disabled");$("#MainThrobberImage").hide();$("#modalThrobberImage").hide();$(".md-overlay").removeAttr("style")};$.ShowModalThrobber=function(n,t){t!=undefined&&$(t).attr("disabled","disabled");$("#modalThrobberImage").show().position(n)};$.ShowMessage=function(n,t,i){var r;i==MessageType.Success?(r='<button aria-hidden="true" data-dismiss="alert" class="close" type="button">×<\/button><div class="icon"><i class="fa fa-check sign"><\/i><\/div><strong>Success! <\/strong>'+t,$.showGritterMessage(t,i)):i==MessageType.Error?(r='<button aria-hidden="true" data-dismiss="alert" class="close" type="button">×<\/button><div class="icon"><i class="fa fa-times-circle sign"><\/i><\/div><strong>Error! <\/strong>'+t,$.showGritterMessage(t,i)):i==MessageType.Warning&&(r='<button aria-hidden="true" data-dismiss="alert" class="close" type="button">×<\/button><div class="icon"><i class="fa fa-times-circle sign"><\/i><\/div><strong>Alert! <\/strong>'+t,$.showGritterMessage(t,i));i==MessageType.Success&&setTimeout(function(){$(n).hide().html("")},5e3)};$.ShowThemeAlertMessage=function(n,t){var i='<button aria-hidden="true" data-dismiss="alert" class="close" type="button">×<\/button><i class="fa fa-check sign"><\/i><strong>Success! <\/strong>'+t;$(n).html(i).removeClass("alert-info").addClass("alert-success").fadeIn();$("html, body").animate({scrollTop:0},400);setTimeout(function(){$(n).hide().html("")},5e3)};$.ShowThemeAlertMessage2=function(n,t){var i='<button aria-hidden="true" data-dismiss="alert" class="close" type="button">×<\/button><div class="icon"><i class="fa fa-check sign"><\/i><\/div><strong>Success! <\/strong>'+t;$(n).html(i).removeClass("alert-info").addClass("alert-success").fadeIn();$("html, body").animate({scrollTop:0},400);setTimeout(function(){$(n).hide().html("")},5e3)};$.showStaticMessage=function(n,t){$.gritter.add({position:"bottom-left",title:"<strong>Success!<\/strong>",text:t,imageIcon:"<img src='/images/success_head.png' width='45'/>",class_name:"clean",time:"20000"})};$.showGritterMessage=function(n,t){$.RemoveExistingMessage();t==MessageType.Success?$.gritter.add({position:"bottom-left",title:"<strong>Success!<\/strong>",text:n,class_name:"clean",time:"5000"}):t==MessageType.Error?$.gritter.add({position:"bottom-left",title:"<strong>Error!<\/strong>",text:n,class_name:"clean",time:"5000"}):t==MessageType.Warning&&$.gritter.add({position:"bottom-left",title:"<strong>Warning!<\/strong>",text:n,class_name:"clean",time:"5000"})};$(document).ready(function(){$(document).ajaxStart(function(){var n=document.activeElement.id;n=="btnUploadImages"||n=="btnUploadFloorImages"||document.activeElement.className.includes("select2-input")||$(".modalAjaxLoader").fadeIn()});$(document).ajaxComplete(function(){$(".modalAjaxLoader").fadeOut()})});$.RemoveExistingMessage=function(){$(".gritter-item-wrapper").remove()};$.IsNumericCustom=function(n){return+n==n&&n.length>0};$.IsEmailCustom=function(n){return/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(n)};$.IsCharNum=function(n){return/[^a-zA-Z0-9]/.test(n)?!1:!0};$.IsAlphaNumeric=function(n){return/[^a-zA-Z0-9 ]/.test(n)?!1:!0};$.ValidateFiles=function(n){var t=!0;return $(n).find("input[type=file][required-field]").each(function(){$.trim($(this).val())?$(n).find("span[for="+$(this).attr("name")+"]").addClass("field-validation-valid").removeClass("field-validation-error").html(""):(t=!1,$(n).find("span[for="+$(this).attr("name")+"]").addClass("field-validation-error").removeClass("field-validation-valid").html($(this).attr("required-field")))}),$(n).find("input[type=file][allowed-formats]").each(function(){if($(this).val()){var i=$(this).val().split(".");i=i[i.length-1].toLowerCase();$(this).attr("allowed-formats").indexOf(i)==-1?(t=!1,$(n).find("span[for="+$(this).attr("name")+"]").addClass("field-validation-error").removeClass("field-validation-valid").html($(this).attr("error-message"))):$(n).find("span[for="+$(this).attr("name")+"]").addClass("field-validation-valid").removeClass("field-validation-error").html("")}}),t};$.ajaxExt=function(n){function t(n,t,i,r){r.showErrorMessage!=!1?$.ShowMessage($(r.messageControl),"Unexpected Error",MessageType.Error):r.error!=undefined&&r.error("Unexpected Error");r.showThrobber==!0&&$.RemoveThrobber(r.button)}function i(n,t){t.showThrobber==!0&&$.RemoveThrobber(t.button);try{if(n.status==undefined)return t.showErrorMessage!=!1?$.ShowMessage($(t.messageControl),"Invalid data returned in the response",MessageType.Error):t.error!=undefined&&t.error("Invalid data returned in the response"),!1}catch(i){t.showErrorMessage!=!1?$.ShowMessage($(t.messageControl),"Invalid data returned in the response",MessageType.Error):t.error!=undefined&&t.error("Invalid data returned in the response")}n.status==ActionStatus.Error?(t.error!=undefined&&t.error(n.message,n.id,n),t.showErrorMessage!=!1&&$.ShowMessage($(t.messageControl),n.message,MessageType.Error)):t.success&&(n.viewMode==ViewMode.MapView?t.success(n):t.success(n.results,n.message,n.status,n.id,n.list,n.object,n.url,n))}if(n.type=n.type==undefined?"POST":n.type,n.showErrorMessage=n.showErrorMessage==undefined?!0:n.showErrorMessage,n.showThrobber=n.showThrobber==undefined?!0:n.showThrobber,n.showPopupThrobber=n.showPopupThrobber==undefined?!1:n.showPopupThrobber,n.validate=n.validate==undefined?!1:n.validate,n.global=n.global==undefined?!0:n.global,n.cache=n.cache==undefined?!0:n.cache,n.containFiles=n.containFiles==undefined?!1:n.containFiles,n.isAjaxForm=n.isAjaxForm==undefined?!1:n.isAjaxForm,n.isScroll=n.isScroll==undefined?!0:n.isScroll,n.validate==!0){var u=$(n.formToValidate).valid(),r=!0;if(n.containFiles&&(r=$.ValidateFiles(n.formToValidate)),!u||!r)return n.isScroll!=!1&&$("html, body").animate({scrollTop:5},400),!1}if(n.showErrorMessage!=!1&&$.ShowMessage($(n.messageControl),"",MessageType.None),n.showPopupThrobber==!0?$.ShowModalThrobber(n.throbberPosition,n.button):n.showThrobber==!0&&$.ShowThrobber(n.throbberPosition,n.button),n.containFiles==!0||n.isAjaxForm==!0){if($(n.formToPost).length==0)return n.showErrorMessage!=!1?$.ShowMessage($(n.messageControl),"Form Not Found",MessageType.Error):n.error!=undefined&&n.error("Form Not Found"),!1;$(n.formToPost).ajaxForm({url:n.url,global:n.global,cache:n.cache,type:n.type,error:function(i,r,u){t(i,r,u,n)},success:function(t){i(t,n)}}).submit()}else $.ajax({global:n.global,cache:n.cache,url:n.url,type:n.type,processData:n.processData,contentType:n.contentType,data:n.data,error:function(i,r,u){t(i,r,u,n)},success:function(t){i(t,n)}})};$.OpenPopupWindow=function(n){var i,r,t;$("#rmsModalHeader").html(n.title);$("div.popUpMessageAlert").html("").hide();i=Math.floor(window.innerWidth/2);r=Math.floor(window.innerHeight/2);n.showTitle==!1?$("#rmsModal .modal-header").css("display","none"):$("#rmsModal .modal-header").css("display","");$("#rmsModal").unbind("hidden").unbind("shown");$("#rmsModal").on("hidden",function(){$("#rmsModal .modal-body").html("")});t=n.type==undefined?"POST":n.type;$("#rmsModal").on("shown",function(){});n.html?$("#rmsModal .modal-body").html(n.html):$.ajaxExt({type:t,validate:!1,showThrobber:!1,throbberPosition:{my:"center center",at:"center center",of:$("#rmsModal .modal-body")},messageControl:$("div.popUpMessageAlert"),url:n.url,data:n.data,success:function(t){$("#rmsModal .modal-body").html(t[0]);typeof n.callback=="function"&&n.callback()}})};$.OpenDeletePopupWindow=function(n){$(".ConfirmDelete").attr(n.attr,n.id)};$.ShowPopup=function(n,t){var i={},r="",u={init:function(n){i=$.extend({},this,u);i.searching=!1;i.o={};var t={overlaySelector:".md-overlay",closeSelector:".md-close",classAddAfterOpen:"md-show",modalAttr:"data-modal",perspectiveClass:"md-perspective",perspectiveSetClass:"md-setperspective",afterOpen:function(){},afterClose:function(){}};i.o=$.extend({},t,n);i.n={};r=$(i.o.overlaySelector)},afterOpen:function(n,t){i.o.afterOpen(n,t)},afterClose:function(n,t){i.o.afterClose(n,t)}};u.init();$.ajax({type:"POST",url:n,success:function(n){function s(n){$(u).removeClass(i.o.classAddAfterOpen);u.css({perspective:"1300px"});n&&$(document.documentElement).removeClass(i.o.perspectiveClass)}function e(){s($(f).hasClass(i.o.perspectiveSetClass))}$(".modal-body").html("");$("#rmsModalHeader").html(t);var u=$("#rmsModal"),o=$(i.o.closeSelector,u),f=$(this);$(u).addClass(i.o.classAddAfterOpen);$(r).on("click",function(){e();i.afterClose(f,u);$(r).off("click")});$(f).hasClass(i.o.perspectiveSetClass)&&setTimeout(function(){$(document.documentElement).addClass(i.o.perspectiveClass)},25);setTimeout(function(){u.css({perspective:"none"});u.height()%2!=0&&u.css({height:u.height()+1})},500);$(o).on("click",function(n){n.stopPropagation();e();i.afterClose(f,u)});$(".modal-body").append(n.Results[0]);i.afterOpen(f,u)},error:function(n,t,i){console.log(t);console.log(i);alert(t)}})};$.ClosePopupWindow=function(){$("button.md-close").trigger("click")};$.EmptyPopupWindow=function(){$("#rmsModal .modal-body").html("")};$.DeleteConfirm=function(n,t){$("div#mod-warning").find("input[type=button][name=btDeleteConfirm]:first").on("click",function(){n(t)});$("button#btnConfirm").trigger("click")};$.ShowMessageOnPopWindow=function(n){$("#rmsModal .modal-body").html("<h3 style='padding:20px;text-align:center'>"+n+"<h3>");setTimeout(function(){$.ClosePopupWindow()},1e3)};$.ShowMessageOnPopup=function(n){$.OpenPopupWindow({width:550,showTitle:!1,showCloseButton:!0,html:"<h3 style='padding:20px;text-align:center'>"+n+"<h3>"});setTimeout(function(){$.ClosePopupWindow()},1e4)};$.FillSelectList=function(n,t,i){t=$.parseJSON(t);i!=!1&&$(n).html("");for(var r=0;r<t.length;r++)$(n).append('<option value="'+t[r].Value+'">'+t[r].Text+"<\/option>")};$.postifyData=function(n){var t={},i=function(n,r){var u,f;for(u in n){f=isFinite(u)?(r!=""?r:"")+"["+u+"]":(r!=""?r+".":"")+u;switch(typeof n[u]){case"number":case"string":case"boolean":t[f]=n[u];break;case"object":n[u]!=null&&(n[u].toUTCString?t[f]=n[u].toUTCString().replace("UTC","GMT"):i(n[u],f!=""?f:u))}}};return i(n,""),t};$.ProcessResponse=function(n){if($.RemoveThrobber(),n.status!="success"||n.context.status!=200)return $.ShowMessage($(n.messageControl),"Unexpected Error",MessageType.Error),!1;var t=$.parseJSON(n.context.responseText);try{if(t.Status==undefined)return n.showErrorMessage!=!1?$.ShowMessage($(n.messageControl),"Invalid data returned in the response",MessageType.Error):n.error!=undefined&&n.error("Invalid data returned in the response"),!1}catch(i){n.showErrorMessage!=!1?$.ShowMessage($(n.messageControl),"Invalid data returned in the response",MessageType.Error):n.error!=undefined&&n.error("Invalid data returned in the response")}t.Status==ActionStatus.Error?(n.showErrorMessage!=!1&&$.ShowMessage($(n.messageControl),t.message,MessageType.Error),n.error!=undefined&&n.error(t.message)):n.success&&n.success(t.Results)};$.ResetValidationMessages=function(n){n==undefined&&(n=$("body"));$(n).find(".input-validation-error").addClass("input-validation-valid").removeClass("input-validation-error");$(n).find(".field-validation-error").addClass("field-validation-valid").removeClass("field-validation-error").html("")};$.ResetUnobtrusiveValidation=function(n){n.removeData("validator");n.removeData("unobtrusiveValidation");$.validator.unobtrusive.parse(n)};$.ScrollToTop=function(){var t=220,n=500;$(window).scroll(function(){$(this).scrollTop()>t?$(".back-to-top").fadeIn(n):$(".back-to-top").fadeOut(n)});$(".back-to-top").click(function(t){return t.preventDefault(),$("html, body").animate({scrollTop:0},n),!1})};$.fn.scrollView=function(){$("html, body").animate({scrollTop:0},400)};$.CheckAll=function(n){$(n).is(":checked")?($("div[name=listingContainer] table[name=Listing] tbody tr").find("input[type=checkbox][name=checkList]").attr("checked","checked"),$("div[name=listingContainer] table[name=Listing] tbody tr").addClass("bgColor")):($("[name=listingContainer] table[name=Listing] tbody tr").find("input[type=checkbox][name=checkList]").removeAttr("checked","checked"),$("div[name=listingContainer] table[name=Listing] tbody tr").removeClass("bgColor"))};jQuery.fn.reset=function(){$(this).each(function(){this.reset()})};$.ReplaceSpecialCharacter=function(n){return n=n.trim(),n=n.replace(/[^a-zA-Z0-9\.-]/g,"-"),n.replace("---","-")};Array.prototype.remove=function(){for(var n,t=arguments,i=t.length,r;i&&this.length;)for(n=t[--i];(r=this.indexOf(n))!==-1;)this.splice(r,1);return this};$.getParameterByName=function(n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+n+"=([^&#]*)"),t=i.exec(location.search);return t==null?"":decodeURIComponent(t[1].replace(/\+/g," "))};$.htmlDecode=function(n){return $("<div/>").html(n).text()};$.htmlEncode=function(n){return $("<div/>").text(n).html()};$(document).on("keyup",".search_inp",function(n){n.which===13&&Paging()});$.ConfirmBox=function(n,t,i,r,u,f,e,o,s,h){swal({title:n,text:t,type:i,showCancelButton:r,confirmButtonColor:"#DD6B55",confirmButtonText:u,cancelButtonText:s,closeOnConfirm:f},function(n){if(n)o&&o(e);else return h&&h(e),!1})},function(n){n.fn.locify=function(){function r(){var r=t.getPlace(),e,o,u,f,s;for(e in i)o=n("[data-gfield="+e+"]"),o.val("");if(r.address_components!=null)for(u=0;u<r.address_components.length;u++)f=r.address_components[u].types[0],i[f]&&(s=r.address_components[u][i[f]],n("[data-gfield="+f+"]").val(s)),u==r.address_components.length-1&&n("#Address").val(r.address_components[0].long_name+" "+r.address_components[1].long_name+" "+r.address_components[2].long_name)}var t,i={street_number:"short_name",route:"long_name",sublocality:"long_name",locality:"long_name",administrative_area_level_1:"short_name",country:"long_name",postal_code:"short_name",sublocality_level_3:"long_name"};t=new google.maps.places.Autocomplete(this[0],{types:["geocode"]});t.addListener("place_changed",r)}}(jQuery);$(document).on("click",".popup",function(){var n=document.getElementById($(this).data("rc"));n.classList.toggle("show")});$(document).on("click",".clear-search",function(){$('input[type="text"]').val("");$("select").prop("selectedIndex",0);Paging()});Date.prototype.toShortFormat=function(){var n=this.getDate(),t=this.getMonth(),i=this.getFullYear();return""+n+"-"+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t]+"-"+i};paging={startIndex:1,currentPage:0,pageSize:10,pagingWrapper:"pagingWrapper1",first:"first",last:"last",previous:"prev",next:"next",numeric:"numeric",pageInfo:"pageInfo",PagingFunction:""},function(n){function t(n){return n.substr(0,n.lastIndexOf(".")+1)}function i(n,t){return n.indexOf("*.")===0&&(n=n.replace("*.",t)),n}function r(t,r,u){var s=i(t,u),f=n("*[name='"+s+"']"),h=f.attr("type"),e=h==="checkbox"?f.attr("checked"):f.val(),o=f.data("dateformat");return o!=undefined&&(e=n.datepicker.parseDate(o,e)),e}n.validator.addMethod("requiredif",function(t,i,r){var u=r.validatorFunc,f=u();return f?n.validator.methods.required.call(this,t,i,r):!0});n.validator.unobtrusive.adapters.add("requiredif",["expression"],function(n){var i=t(n.element.name),u=n.params.expression,f=function(n,t){return r(n,t,i)};eval("function theValidator(gv) { return "+u+";}");n.rules.requiredif={validatorFunc:function(){return theValidator(f)}};n.messages.requiredif=n.message})}(jQuery);